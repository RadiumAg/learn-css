### WebKit的网页渲染过程

   1.当用户输入网页URL的时候，WebKit调用其资源加载器加载该URL对应的网页。

2. 加载器以来网络模块建立连接，发送请求并接收答复。
3. WebKit接收各种网页或者资源的数据，其中某些资源可能是同步或者异步获取的。
4. 网页被交给HTML解释器转变成一系列的`词语(Token)`。
5. 解释器根据词语构建`节点(Node)` ,形成DOM树。
6. 如果节点是JavaScript代码的话，调用JavaScript引擎解释并执行
7. JavaScript代码可能会修改DOM树的结构
8. 如果节点需要以来其它资源，例如图片、CSS、视频等，调用资源加载器来加载它们，但是它们是异步的，不会阻碍当前DOM树的继续创建。如果是JavaScript资源URL(没有标记异步方式)，则需要停止当前DOM树的创建，直到JavaScript的资源加载被JavaScript引擎解释执行后才继续DOM树的创建。



### 网络栈



### HTTP管线化（Pipelining）

将多个HTTP请求填充在一个TCP数据包内，网络上传输较少的TCP数据包，减少网络负载





### HTML解释器

**过程**

​	字节流，经过解码之后是字节流，然后通过此法分析器被解析成词语(Tokens),之后经过语法分析器构建成节点，最后这些节点被组建成一棵树



**注意**

1.当DOM树构建完成之后，WebKit触发"DOMContentLoaded"事件，注册在该事件上的JavaScript函数会被调用。当所有资源都加载完周，WebKit触发"onload"事件。



### 事件的工作过程

